"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34],{823:(e,s,t)=>{t.d(s,{AM:()=>n,Wv:()=>d,hl:()=>c});var a=t(5155),r=t(2115),l=t(547),i=t(3999);let n=l.bL,d=l.l9,c=r.forwardRef((e,s)=>{let{className:t,align:r="center",sideOffset:n=4,...d}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsx)(l.UC,{ref:s,align:r,sideOffset:n,className:(0,i.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...d})})});c.displayName=l.UC.displayName},1397:(e,s,t)=>{t.d(s,{k:()=>n});var a=t(5155),r=t(2115),l=t(5863),i=t(3999);let n=r.forwardRef((e,s)=>{let{className:t,value:r,...n}=e;return(0,a.jsx)(l.bL,{ref:s,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:(0,a.jsx)(l.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});n.displayName=l.bL.displayName},2714:(e,s,t)=>{t.d(s,{J:()=>c});var a=t(5155),r=t(2115),l=t(968),i=t(2085),n=t(3999);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.b,{ref:s,className:(0,n.cn)(d(),t),...r})});c.displayName=l.b.displayName},4560:(e,s,t)=>{t.d(s,{default:()=>S});var a=t(5155),r=t(2115),l=t(7168),i=t(8482),n=t(8145),d=t(4616),c=t(9074),o=t(4186),m=t(7213),x=t(2657),h=t(9840),u=t(3008),p=t(9852),f=t(9474),g=t(2714),j=t(6894),N=t(823),v=t(4416),y=t(3999),b=t(6671),w=t(1399);function C(e){let{apartmentId:s,onSuccess:t,onCancel:i}=e,[n,d]=(0,r.useState)(!1),[o,m]=(0,r.useState)(new Date),[x,h]=(0,r.useState)(""),[C,S]=(0,r.useState)(8),[A,P]=(0,r.useState)([]),[k,D]=(0,r.useState)([]),F=e=>{P(s=>s.filter((s,t)=>t!==e)),D(s=>{let t=s.filter((s,t)=>t!==e);return URL.revokeObjectURL(s[e]),t})},T=async e=>{if(e.preventDefault(),!x.trim()){b.o.error("Please enter a work description");return}if(C<=0||C>24){b.o.error("Please enter valid hours worked (1-24)");return}try{d(!0);let e=new FormData;e.append("date",o.toISOString()),e.append("workDescription",x.trim()),e.append("hoursWorked",C.toString()),A.forEach((s,t)=>{e.append("photos",s)}),await w.L.createProgressEntry(s,e),b.o.success("Progress entry created successfully"),t()}catch(e){console.error("Failed to create progress entry:",e),b.o.error("Failed to create progress entry")}finally{d(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Add Daily Progress Entry"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Log your daily work progress with photos and descriptions."})]}),(0,a.jsxs)("form",{onSubmit:T,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.J,{htmlFor:"date",children:"Date"}),(0,a.jsxs)(N.AM,{children:[(0,a.jsx)(N.Wv,{asChild:!0,children:(0,a.jsxs)(l.$,{variant:"outline",className:(0,y.cn)("w-full justify-start text-left font-normal",!o&&"text-muted-foreground"),children:[(0,a.jsx)(c.A,{className:"mr-2 h-4 w-4"}),o?(0,u.GP)(o,"PPP"):"Select a date"]})}),(0,a.jsx)(N.hl,{className:"w-auto p-0",children:(0,a.jsx)(j.V,{mode:"single",selected:o,onSelect:e=>e&&m(e),initialFocus:!0})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.J,{htmlFor:"hoursWorked",children:"Hours Worked"}),(0,a.jsx)(p.p,{id:"hoursWorked",type:"number",min:"0.5",max:"24",step:"0.5",value:C,onChange:e=>S(parseFloat(e.target.value)||0),placeholder:"8"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.J,{htmlFor:"workDescription",children:"Work Description"}),(0,a.jsx)(f.T,{id:"workDescription",value:x,onChange:e=>h(e.target.value),placeholder:"Describe the work completed today...",rows:4,required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.J,{children:"Photos (Optional)"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.p,{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let s=Array.from(e.target.files||[]),t=s.filter(e=>e.type.startsWith("image/"));if(t.length!==s.length){b.o.error("Please select only image files");return}if(A.length+t.length>10){b.o.error("Maximum 10 photos allowed");return}P(e=>[...e,...t]),t.forEach(e=>{let s=URL.createObjectURL(e);D(e=>[...e,s])})},className:"flex-1"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[A.length,"/10"]})]}),k.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:k.map((e,s)=>(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("img",{src:e,alt:"Progress photo ".concat(s+1),className:"w-full h-24 object-cover rounded-md"}),(0,a.jsx)(l.$,{type:"button",size:"sm",variant:"destructive",className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>F(s),children:(0,a.jsx)(v.A,{className:"h-3 w-3"})})]},s))})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,a.jsx)(l.$,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),(0,a.jsx)(l.$,{type:"submit",disabled:n,children:n?"Creating...":"Create Entry"})]})]})]})}function S(e){let{apartmentId:s}=e,[t,p]=(0,r.useState)([]),[f,g]=(0,r.useState)(!0),[j,N]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),[S,A]=(0,r.useState)(null),[P,k]=(0,r.useState)(!1);(0,r.useEffect)(()=>{D()},[s]);let D=async()=>{try{g(!0),N("");let e=await w.L.getProgressEntries(s);p(e)}catch(s){var e,t;console.error("Failed to fetch progress entries:",s),N((null==s?void 0:null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to load progress entries"),b.o.error("Failed to load progress entries")}finally{g(!1)}},F=e=>{A(e),k(!0)};return f?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Project Progress"}),(0,a.jsxs)(l.$,{disabled:!0,children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Add Entry"]})]}),(0,a.jsx)("div",{className:"grid gap-4",children:[1,2,3].map(e=>(0,a.jsx)(i.Zp,{className:"animate-pulse",children:(0,a.jsxs)(i.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})},e))})]}):j?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Project Progress"}),(0,a.jsxs)(l.$,{onClick:D,children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Add Entry"]})]}),(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-red-500 mb-4",children:j}),(0,a.jsx)(l.$,{onClick:D,variant:"outline",children:"Try Again"})]})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Project Progress"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[t.length," entries • ",t.reduce((e,s)=>e+s.hoursWorked,0)," hours • ",t.reduce((e,s)=>e+s.photos.length,0)," photos"]})]}),(0,a.jsxs)(h.lG,{open:v,onOpenChange:y,children:[(0,a.jsx)(h.zM,{asChild:!0,children:(0,a.jsxs)(l.$,{children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Add Entry"]})}),(0,a.jsxs)(h.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(h.c7,{children:(0,a.jsx)(h.L3,{children:"Add Progress Entry"})}),(0,a.jsx)(C,{apartmentId:s,onSuccess:()=>{y(!1),D()},onCancel:()=>y(!1)})]})]})]}),0===t.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(c.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"No progress entries yet"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Start logging your daily work progress"})]}):(0,a.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,a.jsxs)(i.Zp,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(i.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)(i.ZB,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"h-4 w-4"}),(0,u.GP)(new Date(e.date),"PPP")]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:e.workDescription})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(n.E,{variant:"outline",children:[(0,a.jsx)(o.A,{className:"h-3 w-3 mr-1"}),e.hoursWorked,"h"]}),e.photos.length>0&&(0,a.jsxs)(n.E,{variant:"outline",children:[(0,a.jsx)(m.A,{className:"h-3 w-3 mr-1"}),e.photos.length]})]})]})}),(0,a.jsx)(i.Wu,{className:"pt-0",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Created ",(0,u.GP)(new Date(e.createdAt),"PPp")]}),(0,a.jsxs)(l.$,{size:"sm",variant:"outline",onClick:()=>F(e),children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-1"}),"View Details"]})]})})]},e._id))}),(0,a.jsx)(h.lG,{open:P,onOpenChange:k,children:(0,a.jsxs)(h.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(h.c7,{children:(0,a.jsx)(h.L3,{children:"Progress Entry Details"})}),S&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold",children:(0,u.GP)(new Date(S.date),"PPP")}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[S.hoursWorked," hours worked"]})]}),(0,a.jsxs)(n.E,{variant:"outline",children:[(0,a.jsx)(o.A,{className:"h-3 w-3 mr-1"}),S.hoursWorked,"h"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-medium mb-2",children:"Work Description"}),(0,a.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:S.workDescription})]}),S.photos.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h5",{className:"font-medium mb-2",children:["Photos (",S.photos.length,")"]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:S.photos.map((e,s)=>(0,a.jsx)("img",{src:e,alt:"Progress photo ".concat(s+1),className:"w-full h-32 object-cover rounded-md"},s))})]})]})]})})]})}},4964:(e,s,t)=>{t.d(s,{Tabs:()=>n,TabsContent:()=>o,TabsList:()=>d,TabsTrigger:()=>c});var a=t(5155),r=t(2115),l=t(704),i=t(3999);let n=l.bL,d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.B8,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});d.displayName=l.B8.displayName;let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.l9,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});c.displayName=l.l9.displayName;let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.UC,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});o.displayName=l.UC.displayName},5062:(e,s,t)=>{t.d(s,{default:()=>D});var a=t(5155),r=t(2115),l=t(7168),i=t(8482),n=t(8145),d=t(4616),c=t(7434),o=t(4516),m=t(2657),x=t(9840),h=t(3008),u=t(9852),p=t(9474),f=t(2714),g=t(5784),j=t(6894),N=t(823),v=t(9074),y=t(4416),b=t(3999),w=t(6671),C=t(9799);let S=["General Observation","Issue/Problem","Safety Concern","Quality Check","Material Delivery","Equipment Issue","Weather Impact","Other"],A=[{value:"low",label:"Low",color:"bg-green-100 text-green-800"},{value:"medium",label:"Medium",color:"bg-yellow-100 text-yellow-800"},{value:"high",label:"High",color:"bg-red-100 text-red-800"},{value:"critical",label:"Critical",color:"bg-red-600 text-white"}];function P(e){let{apartmentId:s,onSuccess:t,onCancel:i}=e,[n,d]=(0,r.useState)(!1),[c,o]=(0,r.useState)(new Date),[m,x]=(0,r.useState)(""),[P,k]=(0,r.useState)("medium"),[D,F]=(0,r.useState)(""),[T,I]=(0,r.useState)(""),[R,L]=(0,r.useState)(""),[E,W]=(0,r.useState)([]),[$,J]=(0,r.useState)([]),O=e=>{W(s=>s.filter((s,t)=>t!==e)),J(s=>{let t=s.filter((s,t)=>t!==e);return URL.revokeObjectURL(s[e]),t})},U=async e=>{if(e.preventDefault(),!m){w.o.error("Please select a note type");return}if(!D.trim()){w.o.error("Please enter a title");return}if(!T.trim()){w.o.error("Please enter a description");return}try{d(!0);let e=new FormData;e.append("date",c.toISOString()),e.append("noteType",m),e.append("priority",P),e.append("title",D.trim()),e.append("description",T.trim()),e.append("location",R.trim()),E.forEach((s,t)=>{e.append("photos",s)}),await C.F.createSiteNote(s,e),w.o.success("Site note created successfully"),t()}catch(e){console.error("Failed to create site note:",e),w.o.error("Failed to create site note")}finally{d(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Add Site Note"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Log observations, issues, or important information about the site."})]}),(0,a.jsxs)("form",{onSubmit:U,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(f.J,{htmlFor:"date",children:"Date"}),(0,a.jsxs)(N.AM,{children:[(0,a.jsx)(N.Wv,{asChild:!0,children:(0,a.jsxs)(l.$,{variant:"outline",className:(0,b.cn)("w-full justify-start text-left font-normal",!c&&"text-muted-foreground"),children:[(0,a.jsx)(v.A,{className:"mr-2 h-4 w-4"}),c?(0,h.GP)(c,"PPP"):"Select a date"]})}),(0,a.jsx)(N.hl,{className:"w-auto p-0",children:(0,a.jsx)(j.V,{mode:"single",selected:c,onSelect:e=>e&&o(e),initialFocus:!0})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(f.J,{htmlFor:"noteType",children:"Note Type"}),(0,a.jsxs)(g.l6,{value:m,onValueChange:x,children:[(0,a.jsx)(g.bq,{children:(0,a.jsx)(g.yv,{placeholder:"Select note type"})}),(0,a.jsx)(g.gC,{children:S.map(e=>(0,a.jsx)(g.eb,{value:e,children:e},e))})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(f.J,{htmlFor:"priority",children:"Priority"}),(0,a.jsxs)(g.l6,{value:P,onValueChange:k,children:[(0,a.jsx)(g.bq,{children:(0,a.jsx)(g.yv,{})}),(0,a.jsx)(g.gC,{children:A.map(e=>(0,a.jsx)(g.eb,{value:e.value,children:(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(e.color),children:e.label})})},e.value))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(f.J,{htmlFor:"location",children:"Location (Optional)"}),(0,a.jsx)(u.p,{id:"location",value:R,onChange:e=>L(e.target.value),placeholder:"e.g., Kitchen, Bathroom, Exterior"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(f.J,{htmlFor:"title",children:"Title"}),(0,a.jsx)(u.p,{id:"title",value:D,onChange:e=>F(e.target.value),placeholder:"Brief title for the note",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(f.J,{htmlFor:"description",children:"Description"}),(0,a.jsx)(p.T,{id:"description",value:T,onChange:e=>I(e.target.value),placeholder:"Detailed description of the observation or issue...",rows:4,required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(f.J,{children:"Photos (Optional)"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.p,{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let s=Array.from(e.target.files||[]),t=s.filter(e=>e.type.startsWith("image/"));if(t.length!==s.length){w.o.error("Please select only image files");return}if(E.length+t.length>5){w.o.error("Maximum 5 photos allowed");return}W(e=>[...e,...t]),t.forEach(e=>{let s=URL.createObjectURL(e);J(e=>[...e,s])})},className:"flex-1"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[E.length,"/5"]})]}),$.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:$.map((e,s)=>(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("img",{src:e,alt:"Site note photo ".concat(s+1),className:"w-full h-24 object-cover rounded-md"}),(0,a.jsx)(l.$,{type:"button",size:"sm",variant:"destructive",className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>O(s),children:(0,a.jsx)(y.A,{className:"h-3 w-3"})})]},s))})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,a.jsx)(l.$,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),(0,a.jsx)(l.$,{type:"submit",disabled:n,children:n?"Creating...":"Create Note"})]})]})]})}let k={low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-red-100 text-red-800",critical:"bg-red-600 text-white"};function D(e){let{apartmentId:s}=e,[t,u]=(0,r.useState)([]),[p,f]=(0,r.useState)(!0),[g,j]=(0,r.useState)(""),[N,v]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),[S,A]=(0,r.useState)(!1);(0,r.useEffect)(()=>{D()},[s]);let D=async()=>{try{f(!0),j("");let e=await C.F.getSiteNotes(s);u(e)}catch(s){var e,t;console.error("Failed to fetch site notes:",s),j((null==s?void 0:null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to load site notes"),w.o.error("Failed to load site notes")}finally{f(!1)}},F=e=>{b(e),A(!0)},T=e=>{let s=t.filter(s=>s.priority===e).length;return console.log('Priority count for "'.concat(e,'":'),s,"Notes:",t.map(e=>e.priority)),s};if(p)return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Site Notes"}),(0,a.jsxs)(l.$,{disabled:!0,children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Add Note"]})]}),(0,a.jsx)("div",{className:"grid gap-4",children:[1,2,3].map(e=>(0,a.jsx)(i.Zp,{className:"animate-pulse",children:(0,a.jsxs)(i.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})},e))})]});if(g)return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Site Notes"}),(0,a.jsxs)(l.$,{onClick:D,children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Add Note"]})]}),(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-red-500 mb-4",children:g}),(0,a.jsx)(l.$,{onClick:D,variant:"outline",children:"Try Again"})]})]});let I=t.filter(e=>"Critical"===e.priority||"High"===e.priority);return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Site Notes"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[t.length," notes • ",I.length," high priority"]})]}),(0,a.jsxs)(x.lG,{open:N,onOpenChange:v,children:[(0,a.jsx)(x.zM,{asChild:!0,children:(0,a.jsxs)(l.$,{children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Add Note"]})}),(0,a.jsxs)(x.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(x.c7,{children:(0,a.jsx)(x.L3,{children:"Add Site Note"})}),(0,a.jsx)(P,{apartmentId:s,onSuccess:()=>{v(!1),D()},onCancel:()=>v(!1)})]})]})]}),t.length>0&&(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[(0,a.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-green-600",children:"Low"}),(0,a.jsx)("div",{className:"text-lg font-semibold text-green-800",children:T("Low")})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-yellow-600",children:"Medium"}),(0,a.jsx)("div",{className:"text-lg font-semibold text-yellow-800",children:T("Medium")})]}),(0,a.jsxs)("div",{className:"bg-red-50 p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-red-600",children:"High"}),(0,a.jsx)("div",{className:"text-lg font-semibold text-red-800",children:T("High")})]}),(0,a.jsxs)("div",{className:"bg-red-100 p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-red-700",children:"Critical"}),(0,a.jsx)("div",{className:"text-lg font-semibold text-red-900",children:T("Critical")})]})]}),0===t.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(c.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"No site notes yet"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Start logging observations and issues"})]}):(0,a.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,a.jsxs)(i.Zp,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(i.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(i.ZB,{className:"text-base",children:e.title}),(0,a.jsx)(n.E,{className:k[e.priority],children:e.priority})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(c.A,{className:"h-3 w-3"}),e.noteType]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.A,{className:"h-3 w-3"}),e.location||"No location"]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:e.description})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:e.images.length>0&&(0,a.jsxs)(n.E,{variant:"outline",children:[e.images.length," photos"]})})]})}),(0,a.jsx)(i.Wu,{className:"pt-0",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Created ",(0,h.GP)(new Date(e.createdAt),"PPp")]}),(0,a.jsxs)(l.$,{size:"sm",variant:"outline",onClick:()=>F(e),children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-1"}),"View Details"]})]})})]},e._id))}),(0,a.jsx)(x.lG,{open:S,onOpenChange:A,children:(0,a.jsxs)(x.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(x.c7,{children:(0,a.jsx)(x.L3,{children:"Site Note Details"})}),y&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold",children:y.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,h.GP)(new Date(y.createdAt),"PPP")})]}),(0,a.jsx)(n.E,{className:k[y.priority],children:y.priority})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Type:"})," ",y.noteType]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Location:"})," ",y.location||"Not specified"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-medium mb-2",children:"Description"}),(0,a.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:y.description})]}),y.images.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h5",{className:"font-medium mb-2",children:["Photos (",y.images.length,")"]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:y.images.map((e,s)=>(0,a.jsx)("img",{src:e.url,alt:"Site note photo ".concat(s+1),className:"w-full h-32 object-cover rounded-md"},s))})]})]})]})})]})}},5784:(e,s,t)=>{t.d(s,{bq:()=>x,eb:()=>f,gC:()=>p,l6:()=>o,yv:()=>m});var a=t(5155),r=t(2115),l=t(8715),i=t(6474),n=t(7863),d=t(5196),c=t(3999);let o=l.bL;l.YJ;let m=l.WT,x=r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsxs)(l.l9,{ref:s,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[r,(0,a.jsx)(l.In,{asChild:!0,children:(0,a.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=l.l9.displayName;let h=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.PP,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});h.displayName=l.PP.displayName;let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.wn,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})});u.displayName=l.wn.displayName;let p=r.forwardRef((e,s)=>{let{className:t,children:r,position:i="popper",...n}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsxs)(l.UC,{ref:s,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...n,children:[(0,a.jsx)(h,{}),(0,a.jsx)(l.LM,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(u,{})]})})});p.displayName=l.UC.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.JU,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=l.JU.displayName;let f=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsxs)(l.q7,{ref:s,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})}),(0,a.jsx)(l.p4,{children:r})]})});f.displayName=l.q7.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.wv,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=l.wv.displayName},6894:(e,s,t)=>{t.d(s,{V:()=>c});var a=t(5155);t(2115);var r=t(2355),l=t(3052),i=t(9802),n=t(3999),d=t(7168);function c(e){let{className:s,classNames:t,showOutsideDays:c=!0,...o}=e;return(0,a.jsx)(i.hv,{showOutsideDays:c,className:(0,n.cn)("p-3",s),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,n.cn)((0,d.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,n.cn)((0,d.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:e=>{let{...s}=e;return(0,a.jsx)(r.A,{className:"h-4 w-4"})},IconRight:e=>{let{...s}=e;return(0,a.jsx)(l.A,{className:"h-4 w-4"})}},...o})}c.displayName="Calendar"},8063:(e,s,t)=>{t.d(s,{default:()=>I});var a=t(5155),r=t(2115),l=t(7168),i=t(8482),n=t(8145),d=t(4616),c=t(7434),o=t(4516),m=t(1007),x=t(9074),h=t(2657),u=t(9840),p=t(3008),f=t(9852),g=t(9474),j=t(2714),N=t(5784),v=t(6894),y=t(823),b=t(2525),w=t(4416),C=t(3999),S=t(6671),A=t(4938);let P=["Construction Task","Installation","Repair/Maintenance","Inspection","Safety Protocol","Quality Control","Material Handling","Equipment Operation","Other"],k=[{value:"low",label:"Low",color:"bg-green-100 text-green-800"},{value:"medium",label:"Medium",color:"bg-yellow-100 text-yellow-800"},{value:"high",label:"High",color:"bg-red-100 text-red-800"},{value:"urgent",label:"Urgent",color:"bg-red-600 text-white"}];function D(e){let{apartmentId:s,onSuccess:t,onCancel:i}=e,[n,c]=(0,r.useState)(!1),[o,m]=(0,r.useState)(""),[h,u]=(0,r.useState)(""),[D,F]=(0,r.useState)("medium"),[T,I]=(0,r.useState)(""),[R,L]=(0,r.useState)(""),[E,W]=(0,r.useState)(""),[$,J]=(0,r.useState)(void 0),[O,U]=(0,r.useState)(""),[_,z]=(0,r.useState)(""),[M,q]=(0,r.useState)(""),[G,V]=(0,r.useState)([]),[Z,B]=(0,r.useState)([]),[H,Y]=(0,r.useState)([]),K=e=>{B(s=>s.filter((s,t)=>t!==e)),Y(s=>{let t=s.filter((s,t)=>t!==e);return URL.revokeObjectURL(s[e]),t})},Q=(e,s)=>{V(t=>t.map(t=>t.id===e?{...t,description:s}:t))},X=e=>{V(s=>s.filter(s=>s.id!==e).map((e,s)=>({...e,order:s+1})))},ee=async e=>{if(e.preventDefault(),!o.trim()){S.o.error("Please enter a title");return}if(!h){S.o.error("Please select an instruction type");return}if(!T.trim()){S.o.error("Please enter a description");return}if(0===G.length){S.o.error("Please add at least one step");return}let a=G.filter(e=>e.description.trim());if(a.length!==G.length){S.o.error("Please fill in all step descriptions");return}try{c(!0);let e=new FormData;e.append("title",o.trim()),e.append("instructionType",h),e.append("priority",D),e.append("description",T.trim()),e.append("location",R.trim()),e.append("assignedTo",E.trim()),$&&e.append("dueDate",$.toISOString()),e.append("materials",O.trim()),e.append("tools",_.trim()),e.append("safetyNotes",M.trim()),e.append("steps",JSON.stringify(a)),Z.forEach((s,t)=>{e.append("photos",s)}),await A.C.createFieldInstruction(s,e),S.o.success("Field instruction created successfully"),t()}catch(e){console.error("Failed to create field instruction:",e),S.o.error("Failed to create field instruction")}finally{c(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Create Field Instruction"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Create detailed instructions for field work tasks."})]}),(0,a.jsxs)("form",{onSubmit:ee,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.J,{htmlFor:"title",children:"Title"}),(0,a.jsx)(f.p,{id:"title",value:o,onChange:e=>m(e.target.value),placeholder:"Brief title for the instruction",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.J,{htmlFor:"instructionType",children:"Instruction Type"}),(0,a.jsxs)(N.l6,{value:h,onValueChange:u,children:[(0,a.jsx)(N.bq,{children:(0,a.jsx)(N.yv,{placeholder:"Select instruction type"})}),(0,a.jsx)(N.gC,{children:P.map(e=>(0,a.jsx)(N.eb,{value:e,children:e},e))})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.J,{htmlFor:"priority",children:"Priority"}),(0,a.jsxs)(N.l6,{value:D,onValueChange:F,children:[(0,a.jsx)(N.bq,{children:(0,a.jsx)(N.yv,{})}),(0,a.jsx)(N.gC,{children:k.map(e=>(0,a.jsx)(N.eb,{value:e.value,children:(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(e.color),children:e.label})})},e.value))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.J,{htmlFor:"location",children:"Location"}),(0,a.jsx)(f.p,{id:"location",value:R,onChange:e=>L(e.target.value),placeholder:"e.g., Kitchen, Bathroom, Exterior"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.J,{htmlFor:"assignedTo",children:"Assigned To"}),(0,a.jsx)(f.p,{id:"assignedTo",value:E,onChange:e=>W(e.target.value),placeholder:"Worker name or team"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.J,{htmlFor:"description",children:"Description"}),(0,a.jsx)(g.T,{id:"description",value:T,onChange:e=>I(e.target.value),placeholder:"Detailed description of the work to be done...",rows:3,required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.J,{htmlFor:"materials",children:"Required Materials"}),(0,a.jsx)(g.T,{id:"materials",value:O,onChange:e=>U(e.target.value),placeholder:"List required materials...",rows:2})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.J,{htmlFor:"tools",children:"Required Tools"}),(0,a.jsx)(g.T,{id:"tools",value:_,onChange:e=>z(e.target.value),placeholder:"List required tools...",rows:2})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.J,{htmlFor:"safetyNotes",children:"Safety Notes"}),(0,a.jsx)(g.T,{id:"safetyNotes",value:M,onChange:e=>q(e.target.value),placeholder:"Important safety considerations...",rows:2})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.J,{children:"Due Date (Optional)"}),(0,a.jsxs)(y.AM,{children:[(0,a.jsx)(y.Wv,{asChild:!0,children:(0,a.jsxs)(l.$,{variant:"outline",className:(0,C.cn)("w-full justify-start text-left font-normal",!$&&"text-muted-foreground"),children:[(0,a.jsx)(x.A,{className:"mr-2 h-4 w-4"}),$?(0,p.GP)($,"PPP"):"Select due date"]})}),(0,a.jsx)(y.hl,{className:"w-auto p-0",children:(0,a.jsx)(v.V,{mode:"single",selected:$,onSelect:J,initialFocus:!0})})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(j.J,{children:"Work Steps"}),(0,a.jsxs)(l.$,{type:"button",size:"sm",onClick:()=>{let e={id:Date.now().toString(),description:"",order:G.length+1};V(s=>[...s,e])},children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-1"}),"Add Step"]})]}),0===G.length?(0,a.jsxs)("div",{className:"text-center py-4 border-2 border-dashed border-gray-300 rounded-lg",children:[(0,a.jsx)("p",{className:"text-gray-500",children:"No steps added yet"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:'Click "Add Step" to create work instructions'})]}):(0,a.jsx)("div",{className:"space-y-3",children:G.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-medium",children:e.order}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(g.T,{value:e.description,onChange:s=>Q(e.id,s.target.value),placeholder:"Step ".concat(e.order,": Describe what needs to be done..."),rows:2,className:"resize-none"})}),(0,a.jsx)(l.$,{type:"button",size:"sm",variant:"outline",onClick:()=>X(e.id),className:"flex-shrink-0",children:(0,a.jsx)(b.A,{className:"h-4 w-4"})})]},e.id))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.J,{children:"Reference Photos (Optional)"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.p,{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let s=Array.from(e.target.files||[]),t=s.filter(e=>e.type.startsWith("image/"));if(t.length!==s.length){S.o.error("Please select only image files");return}if(Z.length+t.length>5){S.o.error("Maximum 5 photos allowed");return}B(e=>[...e,...t]),t.forEach(e=>{let s=URL.createObjectURL(e);Y(e=>[...e,s])})},className:"flex-1"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[Z.length,"/5"]})]}),H.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:H.map((e,s)=>(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("img",{src:e,alt:"Instruction photo ".concat(s+1),className:"w-full h-24 object-cover rounded-md"}),(0,a.jsx)(l.$,{type:"button",size:"sm",variant:"destructive",className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>K(s),children:(0,a.jsx)(w.A,{className:"h-3 w-3"})})]},s))})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,a.jsx)(l.$,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),(0,a.jsx)(l.$,{type:"submit",disabled:n,children:n?"Creating...":"Create Instruction"})]})]})]})}let F={low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-red-100 text-red-800",urgent:"bg-red-600 text-white"},T={Created:"bg-gray-100 text-gray-800","Work Started":"bg-blue-100 text-blue-800",Completed:"bg-green-100 text-green-800"};function I(e){var s,t;let{apartmentId:f}=e,[g,j]=(0,r.useState)([]),[N,v]=(0,r.useState)(!0),[y,b]=(0,r.useState)(""),[w,C]=(0,r.useState)(!1),[P,k]=(0,r.useState)(null),[I,R]=(0,r.useState)(!1);(0,r.useEffect)(()=>{L()},[f]);let L=async()=>{try{v(!0),b("");let e=await A.C.getFieldInstructions(f);j(e)}catch(t){var e,s;console.error("Failed to fetch field instructions:",t),b((null==t?void 0:null===(s=t.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.message)||"Failed to load field instructions"),S.o.error("Failed to load field instructions")}finally{v(!1)}},E=e=>{k(e),R(!0)};if(N)return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Field Instructions"}),(0,a.jsxs)(l.$,{disabled:!0,children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Create Instruction"]})]}),(0,a.jsx)("div",{className:"grid gap-4",children:[1,2,3].map(e=>(0,a.jsx)(i.Zp,{className:"animate-pulse",children:(0,a.jsxs)(i.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})},e))})]});if(y)return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Field Instructions"}),(0,a.jsxs)(l.$,{onClick:L,children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Create Instruction"]})]}),(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-red-500 mb-4",children:y}),(0,a.jsx)(l.$,{onClick:L,variant:"outline",children:"Try Again"})]})]});let W=g.filter(e=>"urgent"===e.priority||"high"===e.priority),$=(()=>{let e=new Date;return g.filter(s=>s.dueDate&&new Date(s.dueDate)<e&&"Completed"!==s.status)})();return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Field Instructions"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[g.length," instructions • ",W.length," urgent • ",$.length," overdue"]})]}),(0,a.jsxs)(u.lG,{open:w,onOpenChange:C,children:[(0,a.jsx)(u.zM,{asChild:!0,children:(0,a.jsxs)(l.$,{children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Create Instruction"]})}),(0,a.jsxs)(u.Cf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(u.c7,{children:(0,a.jsx)(u.L3,{children:"Create Field Instruction"})}),(0,a.jsx)(D,{apartmentId:f,onSuccess:()=>{C(!1),L()},onCancel:()=>C(!1)})]})]})]}),g.length>0&&(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Created"}),(0,a.jsx)("div",{className:"text-lg font-semibold text-gray-800",children:g.filter(e=>"Created"===e.status).length})]}),(0,a.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-blue-600",children:"Work Started"}),(0,a.jsx)("div",{className:"text-lg font-semibold text-blue-800",children:g.filter(e=>"Work Started"===e.status).length})]}),(0,a.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-green-600",children:"Completed"}),(0,a.jsx)("div",{className:"text-lg font-semibold text-green-800",children:g.filter(e=>"Completed"===e.status).length})]})]}),0===g.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(c.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"No field instructions yet"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Create detailed work instructions for your team"})]}):(0,a.jsx)("div",{className:"space-y-4",children:g.map(e=>{var s,t;return(0,a.jsxs)(i.Zp,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(i.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(i.ZB,{className:"text-base",children:e.title}),(0,a.jsx)(n.E,{className:F[e.priority],children:e.priority}),(0,a.jsx)(n.E,{className:T[e.status],children:e.status})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(c.A,{className:"h-3 w-3"}),e.instructionType]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.A,{className:"h-3 w-3"}),e.location||"No location"]}),e.assignedTo&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(m.A,{className:"h-3 w-3"}),e.assignedTo]}),e.dueDate&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(x.A,{className:"h-3 w-3"}),(0,p.GP)(new Date(e.dueDate),"MMM dd")]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:e.description})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(n.E,{variant:"outline",children:[(null===(s=e.steps)||void 0===s?void 0:s.length)||0," steps"]}),(null===(t=e.images)||void 0===t?void 0:t.length)>0&&(0,a.jsxs)(n.E,{variant:"outline",children:[e.images.length," photos"]})]})]})}),(0,a.jsx)(i.Wu,{className:"pt-0",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Created ",(0,p.GP)(new Date(e.createdAt),"PPp")]}),(0,a.jsxs)(l.$,{size:"sm",variant:"outline",onClick:()=>E(e),children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-1"}),"View Details"]})]})})]},e._id)})}),(0,a.jsx)(u.lG,{open:I,onOpenChange:R,children:(0,a.jsxs)(u.Cf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(u.c7,{children:(0,a.jsx)(u.L3,{children:"Field Instruction Details"})}),P&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-lg",children:P.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:P.instructionType})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.E,{className:F[P.priority],children:P.priority}),(0,a.jsx)(n.E,{className:T[P.status],children:P.status})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Location:"})," ",P.location||"Not specified"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Assigned To:"})," ",P.assignedTo||"Not assigned"]}),P.dueDate&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Due Date:"})," ",(0,p.GP)(new Date(P.dueDate),"PPP")]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Created:"})," ",(0,p.GP)(new Date(P.createdAt),"PPP")]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-medium mb-2",children:"Description"}),(0,a.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:P.description})]}),P.materials&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-medium mb-2",children:"Required Materials"}),(0,a.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:P.materials})]}),P.tools&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-medium mb-2",children:"Required Tools"}),(0,a.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:P.tools})]}),P.safetyNotes&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-medium mb-2",children:"Safety Notes"}),(0,a.jsx)("p",{className:"text-sm whitespace-pre-wrap text-red-600",children:P.safetyNotes})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h5",{className:"font-medium mb-3",children:["Work Steps (",(null===(s=P.steps)||void 0===s?void 0:s.length)||0,")"]}),(0,a.jsx)("div",{className:"space-y-3",children:(null===(t=P.steps)||void 0===t?void 0:t.map(e=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-medium",children:e.order}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("p",{className:"text-sm",children:e.description})})]},e.id)))||(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No steps defined"})})]}),P.images.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h5",{className:"font-medium mb-2",children:["Reference Photos (",P.images.length,")"]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:P.images.map((e,s)=>(0,a.jsx)("img",{src:e.url,alt:"Instruction photo ".concat(s+1),className:"w-full h-32 object-cover rounded-md"},s))})]})]})]})})]})}},8482:(e,s,t)=>{t.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>i,aR:()=>n,wL:()=>m});var a=t(5155),r=t(2115),l=t(3999);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});i.displayName="Card";let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});n.displayName="CardHeader";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent";let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})});m.displayName="CardFooter"},9034:(e,s,t)=>{t.d(s,{default:()=>b});var a=t(5155),r=t(2115),l=t(5695),i=t(7168),n=t(1397),d=t(4964),c=t(5778),o=t(7550),m=t(8136),x=t(9074),h=t(4186),u=t(6064),p=t(350),f=t(6671),g=t(8145),j=t(5784),N=t(5062),v=t(8063),y=t(4560);function b(e){let{apartmentId:s}=e,t=(0,l.useRouter)(),[b,w]=(0,r.useState)(null),[C,S]=(0,r.useState)(!0),[A,P]=(0,r.useState)(""),[k,D]=(0,r.useState)(!1),[F,T]=(0,r.useState)(""),[I,R]=(0,r.useState)(!1),[L,E]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=async()=>{var e,t,a,r,l;try{console.log("=== APARTMENT DETAILS AUTH CHECK ==="),console.log("Apartment ID received:",s);let a=p.y1.isAuthenticated();if(console.log("Authentication result:",a),!a){console.log("User not authenticated, redirecting to home"),E(!0),console.log("Performing redirect to home page"),P("Authentication required. Please log in."),S(!1);return}E(!0),console.log("Authentication passed, proceeding with profile fetch...");try{console.log("Fetching user profile...");let e=await p.y1.getProfile();console.log("User profile fetched successfully:",e._id),T(e._id)}catch(s){if(console.error("Failed to fetch user profile:",s),(null==s?void 0:null===(e=s.response)||void 0===e?void 0:e.status)===401){console.log("Profile fetch failed with 401 - user not authenticated"),p.y1.logout(),P("Session expired. Please log in again."),S(!1);return}}if(console.log("Apartment ID parameter:",s),!s){console.error("Apartment ID is undefined or empty"),P("Invalid apartment ID"),S(!1);return}S(!0),console.log("Fetching apartment with ID:",s);try{let e=await p.WG.getApartmentById(s);console.log("Apartment data received:",e),w(e),D(!1)}catch(e){throw console.error("API error details:",null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data),e}}catch(e){if(console.error("Failed to fetch apartment:",e),(null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.status)===401){console.log("Authentication error - setting error message instead of redirect"),p.y1.logout(),P("Authentication failed. Please log in again."),S(!1);return}(null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.status)===404?(P("Apartment not found. It may have been deleted."),D(!1)):(null==e?void 0:null===(l=e.response)||void 0===l?void 0:l.status)===403?(P("You don't have permission to view this apartment."),D(!0)):(P("Failed to load apartment: ".concat((null==e?void 0:e.message)||"Unknown error")),D(!1)),f.o.error("Failed to load apartment details")}finally{S(!1)}};s?(console.log("Apartment ID provided, starting fetch process:",s),e()):(console.error("No apartment ID provided:",s),P("Invalid apartment ID"),S(!1))},[s,t]);let W=async e=>{if(b)try{R(!0);let t=await p.WG.updateApartment(s,{status:e});w(t),f.o.success("Apartment status updated to ".concat(e))}catch(e){console.error("Failed to update apartment status:",e),f.o.error("Failed to update apartment status")}finally{R(!1)}};return!L||C?(0,a.jsxs)("div",{className:"flex min-h-screen flex-col pb-16 items-center justify-center",children:[(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading apartment details..."})}),(0,a.jsx)(u.A,{})]}):A||!b?(0,a.jsxs)("div",{className:"flex min-h-screen flex-col pb-16 items-center justify-center",children:[(0,a.jsxs)("div",{className:"text-center py-12",children:[k?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)(c.A,{className:"h-12 w-12 text-red-500"})}),(0,a.jsx)("p",{className:"text-red-500 font-medium text-lg mb-2",children:"Access Denied"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"You don't have permission to view this apartment."})]}):(0,a.jsx)("p",{className:"text-red-500",children:A||"Apartment not found"}),(0,a.jsx)(i.$,{className:"mt-4",onClick:()=>t.push("/projects"),children:"Back to Projects"})]}),(0,a.jsx)(u.A,{})]}):(0,a.jsxs)("div",{className:"flex min-h-screen flex-col pb-16",children:[(0,a.jsxs)("div",{className:"flex items-center p-4 border-b",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>t.back(),children:(0,a.jsx)(o.A,{className:"h-5 w-5"})}),(0,a.jsx)("h1",{className:"text-xl font-bold",children:"Apartment Details"})]}),(0,a.jsxs)("div",{className:"p-4 border-b",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-5 w-5"}),b.name]}),b.description&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:b.description})]}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(g.E,{className:(e=>{switch(e){case"Not Started":default:return"bg-gray-500";case"In Progress":return"bg-blue-500";case"Completed":return"bg-green-500"}})(b.status),children:b.status})})]}),(0,a.jsx)("div",{className:"mt-4 p-3 border rounded-md bg-muted/30",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Apartment Status:"}),(0,a.jsx)("div",{className:"w-48",children:(0,a.jsxs)(j.l6,{value:b.status,onValueChange:W,disabled:I,children:[(0,a.jsx)(j.bq,{className:"h-8",children:(0,a.jsx)(j.yv,{placeholder:"Select status"})}),(0,a.jsxs)(j.gC,{children:[(0,a.jsx)(j.eb,{value:"Not Started",children:"Not Started"}),(0,a.jsx)(j.eb,{value:"In Progress",children:"In Progress"}),(0,a.jsx)(j.eb,{value:"Completed",children:"Completed"})]})]})})]})}),(0,a.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Progress"}),(0,a.jsxs)("span",{children:[b.progress,"%"]})]}),(0,a.jsx)(n.k,{value:b.progress,className:"h-2"})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-1"}),(0,a.jsxs)("span",{children:["Created: ",new Date(b.createdAt).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-1"}),(0,a.jsxs)("span",{children:["#",b.number]})]})]})]}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)(d.Tabs,{defaultValue:"progress",className:"w-full",children:[(0,a.jsxs)(d.TabsList,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(d.TabsTrigger,{value:"progress",children:"Project Progress"}),(0,a.jsx)(d.TabsTrigger,{value:"notes",children:"Site Notes"}),(0,a.jsx)(d.TabsTrigger,{value:"instructions",children:"Field Instructions"})]}),(0,a.jsx)(d.TabsContent,{value:"progress",className:"p-4",children:(0,a.jsx)(y.default,{apartmentId:s})}),(0,a.jsx)(d.TabsContent,{value:"notes",className:"p-4",children:(0,a.jsx)(N.default,{apartmentId:s})}),(0,a.jsx)(d.TabsContent,{value:"instructions",className:"p-4",children:(0,a.jsx)(v.default,{apartmentId:s})})]})}),(0,a.jsx)(u.A,{})]})}},9474:(e,s,t)=>{t.d(s,{T:()=>i});var a=t(5155),r=t(2115),l=t(3999);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r})});i.displayName="Textarea"},9840:(e,s,t)=>{t.d(s,{Cf:()=>x,L3:()=>u,c7:()=>h,lG:()=>d,rr:()=>p,zM:()=>c});var a=t(5155),r=t(2115),l=t(5452),i=t(4416),n=t(3999);let d=l.bL,c=l.l9,o=l.ZL;l.bm;let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.hJ,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});m.displayName=l.hJ.displayName;let x=r.forwardRef((e,s)=>{let{className:t,children:r,...d}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(l.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...d,children:[r,(0,a.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=l.UC.displayName;let h=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};h.displayName="DialogHeader";let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});u.displayName=l.hE.displayName;let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});p.displayName=l.VY.displayName},9852:(e,s,t)=>{t.d(s,{p:()=>i});var a=t(5155),r=t(2115),l=t(3999);let i=r.forwardRef((e,s)=>{let{className:t,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...i})});i.displayName="Input"}}]);