(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[580],{823:(e,t,r)=>{"use strict";r.d(t,{AM:()=>i,Wv:()=>l,hl:()=>d});var a=r(5155),n=r(2115),s=r(547),o=r(3999);let i=s.bL,l=s.l9,d=n.forwardRef((e,t)=>{let{className:r,align:n="center",sideOffset:i=4,...l}=e;return(0,a.jsx)(s.ZL,{children:(0,a.jsx)(s.UC,{ref:t,align:n,sideOffset:i,className:(0,o.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...l})})});d.displayName=s.UC.displayName},1284:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},4741:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var a=r(5155),n=r(2115),s=r(5695),o=r(7168),i=r(9852),l=r(9474),d=r(6894),c=r(823),u=r(3008),m=r(7550),f=r(1284),p=r(9074),g=r(6064),x=r(3999),v=r(350),h=r(6671);let b=(0,r(2085).F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),y=n.forwardRef((e,t)=>{let{className:r,variant:n,...s}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,x.cn)(b({variant:n}),r),...s})});y.displayName="Alert";let N=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h5",{ref:t,className:(0,x.cn)("mb-1 font-medium leading-none tracking-tight",r),...n})});N.displayName="AlertTitle";let j=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,x.cn)("text-sm [&_p]:leading-relaxed",r),...n})});function w(){let e=(0,s.useRouter)(),[t,r]=(0,n.useState)(void 0),[b,w]=(0,n.useState)(""),[_,A]=(0,n.useState)(""),[O,P]=(0,n.useState)(!1),[T,M]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{if(!v.y1.isAuthenticated()){e.push("/");return}let t=await v.y1.getProfile();M(t._id),console.log("Current user ID for project creation:",t._id)}catch(t){console.error("Failed to fetch user profile:",t),h.o.error("Failed to load user profile. Please try logging in again."),e.push("/")}})()},[e]);let I=async r=>{if(r.preventDefault(),!t){h.o.error("Please select a deadline date");return}if(!T){h.o.error("Unable to create project: User ID not available");return}try{P(!0),await v.$p.createProject({name:b,description:_,dueDate:t.toISOString()}),h.o.success("Project created successfully"),e.push("/projects")}catch(e){console.error("Failed to create project:",e),h.o.error("Failed to create project. Please try again.")}finally{P(!1)}};return(0,a.jsxs)("div",{className:"flex min-h-screen flex-col pb-16",children:[(0,a.jsxs)("div",{className:"flex items-center p-4 border-b",children:[(0,a.jsx)(o.$,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>e.back(),children:(0,a.jsx)(m.A,{className:"h-5 w-5"})}),(0,a.jsx)("h1",{className:"text-xl font-bold",children:"Create New Project"})]}),(0,a.jsxs)("div",{className:"flex-1 p-4",children:[(0,a.jsxs)(y,{className:"mb-4",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),(0,a.jsx)(N,{children:"Important"}),(0,a.jsx)(j,{children:"You will be added as the owner of this project. This project will contain apartments that you can manage."})]}),(0,a.jsxs)("form",{onSubmit:I,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"name",className:"text-sm font-medium",children:"Project Name"}),(0,a.jsx)(i.p,{id:"name",placeholder:"Enter project name",required:!0,value:b,onChange:e=>w(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),(0,a.jsx)(l.T,{id:"description",placeholder:"Describe your project",rows:4,value:_,onChange:e=>A(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Deadline"}),(0,a.jsxs)(c.AM,{children:[(0,a.jsx)(c.Wv,{asChild:!0,children:(0,a.jsxs)(o.$,{variant:"outline",className:(0,x.cn)("w-full justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[(0,a.jsx)(p.A,{className:"mr-2 h-4 w-4"}),t?(0,u.GP)(t,"PPP"):"Select a date"]})}),(0,a.jsx)(c.hl,{className:"w-auto p-0",children:(0,a.jsx)(d.V,{mode:"single",selected:t,onSelect:r,initialFocus:!0})})]})]}),(0,a.jsx)(o.$,{type:"submit",className:"w-full",disabled:O||!T,children:O?"Creating...":"Create Project"})]})]}),(0,a.jsx)(g.A,{})]})}j.displayName="AlertDescription"},6894:(e,t,r)=>{"use strict";r.d(t,{V:()=>d});var a=r(5155);r(2115);var n=r(2355),s=r(3052),o=r(9802),i=r(3999),l=r(7168);function d(e){let{className:t,classNames:r,showOutsideDays:d=!0,...c}=e;return(0,a.jsx)(o.hv,{showOutsideDays:d,className:(0,i.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)((0,l.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,i.cn)((0,l.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:e=>{let{...t}=e;return(0,a.jsx)(n.A,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,a.jsx)(s.A,{className:"h-4 w-4"})}},...c})}d.displayName="Calendar"},8905:(e,t,r)=>{"use strict";r.d(t,{C:()=>o});var a=r(2115),n=r(6101),s=r(2712),o=e=>{let{present:t,children:r}=e,o=function(e){var t,r;let[n,o]=a.useState(),l=a.useRef({}),d=a.useRef(e),c=a.useRef("none"),[u,m]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},a.useReducer((e,t)=>{let a=r[e][t];return null!=a?a:e},t));return a.useEffect(()=>{let e=i(l.current);c.current="mounted"===u?e:"none"},[u]),(0,s.N)(()=>{let t=l.current,r=d.current;if(r!==e){let a=c.current,n=i(t);e?m("MOUNT"):"none"===n||(null==t?void 0:t.display)==="none"?m("UNMOUNT"):r&&a!==n?m("ANIMATION_OUT"):m("UNMOUNT"),d.current=e}},[e,m]),(0,s.N)(()=>{if(n){var e;let t;let r=null!==(e=n.ownerDocument.defaultView)&&void 0!==e?e:window,a=e=>{let a=i(l.current).includes(e.animationName);if(e.target===n&&a&&(m("ANIMATION_END"),!d.current)){let e=n.style.animationFillMode;n.style.animationFillMode="forwards",t=r.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=e)})}},s=e=>{e.target===n&&(c.current=i(l.current))};return n.addEventListener("animationstart",s),n.addEventListener("animationcancel",a),n.addEventListener("animationend",a),()=>{r.clearTimeout(t),n.removeEventListener("animationstart",s),n.removeEventListener("animationcancel",a),n.removeEventListener("animationend",a)}}m("ANIMATION_END")},[n,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:a.useCallback(e=>{e&&(l.current=getComputedStyle(e)),o(e)},[])}}(t),l="function"==typeof r?r({present:o.isPresent}):a.Children.only(r),d=(0,n.s)(o.ref,function(e){var t,r;let a=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,n=a&&"isReactWarning"in a&&a.isReactWarning;return n?e.ref:(n=(a=null===(r=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===r?void 0:r.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref}(l));return"function"==typeof r||o.isPresent?a.cloneElement(l,{ref:d}):null};function i(e){return(null==e?void 0:e.animationName)||"none"}o.displayName="Presence"},8994:(e,t,r)=>{Promise.resolve().then(r.bind(r,4741))},9474:(e,t,r)=>{"use strict";r.d(t,{T:()=>o});var a=r(5155),n=r(2115),s=r(3999);let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});o.displayName="Textarea"},9852:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var a=r(5155),n=r(2115),s=r(3999);let o=n.forwardRef((e,t)=>{let{className:r,type:n,...o}=e;return(0,a.jsx)("input",{type:n,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...o})});o.displayName="Input"}},e=>{var t=t=>e(e.s=t);e.O(0,[671,280,89,82,945,441,684,358],()=>t(8994)),_N_E=e.O()}]);